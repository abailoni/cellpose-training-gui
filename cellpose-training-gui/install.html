
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Getting started &#8212; Cellpose-training-GUI  documentation</title>
    
    <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/pydata-sphinx-theme.css" />
    
    <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Select Regions of Interest" href="select_rois.html" />
    <link rel="prev" title="Cellpose-training-GUI" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Cellpose-training-GUI</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="select_rois.html">
  Select Regions of Interest
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="label_rois/label_rois.html">
  Annotate Regions of Interest
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="cellpose_training/training.html">
  Train Cellpose Models
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-install">
   How to install
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#basic-installation-no-local-cellpose-models-training">
     Basic installation (no local cellpose models training)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#installing-qupath">
       Installing QuPath
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-installation-with-cuda-support-requires-a-local-gpu">
     Full installation with CUDA support (requires a local GPU)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-the-traincellpose-server-daemon">
     Installing the traincellpose-server-daemon
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-run">
   How to run
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selecting-a-project-directory">
     Selecting a project directory
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<section id="how-to-install">
<h2>How to install<a class="headerlink" href="#how-to-install" title="Permalink to this headline">¶</a></h2>
<p>Training a custom cellpose model requires a pytorch installation with CUDA support and a local GPU (only supported on Linux and Windows).</p>
<p>However, a basic version of the <code class="docutils literal notranslate"><span class="pre">traincellpose</span></code> tool is available for all OSs (Linux, Mac, Windows) and does not require a local GPU. In that case, you have the option to install the <code class="docutils literal notranslate"><span class="pre">traincellpose-server</span></code> tool on a remote server with CUDA support and conveniently train your model remotely.</p>
<section id="basic-installation-no-local-cellpose-models-training">
<h3>Basic installation (no local cellpose models training)<a class="headerlink" href="#basic-installation-no-local-cellpose-models-training" title="Permalink to this headline">¶</a></h3>
<p>This basic installation is available for all OSs (Linux, Mac, Windows). To install it, you will need <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">miniconda</a> or <a class="reference external" href="https://docs.anaconda.com/anaconda/install/index.html">anaconda</a>.</p>
<p>To install it, simply run the following conda command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda create --name traincellpose_env -c abailoni -c conda-forge traincellpose
</pre></div>
</div>
<section id="installing-qupath">
<h4>Installing QuPath<a class="headerlink" href="#installing-qupath" title="Permalink to this headline">¶</a></h4>
<p>To use the tool, you need to install QuPath. If you don’t have it already installed on your machine, the easiest may be to install it directly via conda:</p>
<ul class="simple">
<li><p>Activate the conda env you create previously with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">traincellpose_env</span></code></p></li>
<li><p>Then install QuPath: <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">qupath</span> <span class="pre">-c</span> <span class="pre">sdvillal</span></code></p></li>
</ul>
<p>Otherwise, if you want to install the latest version of QuPath manually or you already have it installed on your machine, please follow the instructions <a class="reference external" href="https://paquo.readthedocs.io/en/latest/installation.html#install-qupath">here</a> to make sure that the tool will find your QuPath installation. Many times the QuPath installation found automatically, otherwise you will need to specify the path in a config file as described <a class="reference external" href="https://paquo.readthedocs.io/en/latest/configuration.html#the-paquo-toml-file">here</a>.</p>
</section>
</section>
<section id="full-installation-with-cuda-support-requires-a-local-gpu">
<h3>Full installation with CUDA support (requires a local GPU)<a class="headerlink" href="#full-installation-with-cuda-support-requires-a-local-gpu" title="Permalink to this headline">¶</a></h3>
<p>This type of installation only works on Linux and Windows. The installation process is similar to the one for the basic installation, but here you should also install pytorch with CUDA support and then install <code class="docutils literal notranslate"><span class="pre">cellpose</span></code> via <code class="docutils literal notranslate"><span class="pre">pip</span></code>. The specific installation commands depend on your OS and the CUDA version you want to use (see <a class="reference external" href="https://pytorch.org/get-started/locally/">PyTorch website</a> for more details), but they may look something like:</p>
<ul class="simple">
<li><p>Install <code class="docutils literal notranslate"><span class="pre">traincellpose</span></code> and <code class="docutils literal notranslate"><span class="pre">pytorch</span></code>: <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span> <span class="pre">--name</span> <span class="pre">traincellpose_env</span> <span class="pre">-c</span> <span class="pre">abailoni</span> <span class="pre">-c</span> <span class="pre">pytorch</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">pytorch</span> <span class="pre">torchvision</span> <span class="pre">torchaudio</span> <span class="pre">cudatoolkit=11.3</span> <span class="pre">traincellpose</span></code></p></li>
<li><p>Activate the environment: <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">traincellpose_env</span></code></p></li>
<li><p>Install cellpose: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">cellpose</span></code></p></li>
<li><p>Finally, make sure that your QuPath installation is found (see Basic installation for details)</p></li>
</ul>
</section>
<section id="installing-the-traincellpose-server-daemon">
<h3>Installing the traincellpose-server-daemon<a class="headerlink" href="#installing-the-traincellpose-server-daemon" title="Permalink to this headline">¶</a></h3>
<p>Train your models remotely on a server with GPU. More details coming soon.</p>
</section>
</section>
<section id="how-to-run">
<h2>How to run<a class="headerlink" href="#how-to-run" title="Permalink to this headline">¶</a></h2>
<p>After having it installed, simply run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda activate traincellpose_env
traincellpose
</pre></div>
</div>
<section id="selecting-a-project-directory">
<span id="proj-dir"></span><h3>Selecting a project directory<a class="headerlink" href="#selecting-a-project-directory" title="Permalink to this headline">¶</a></h3>
<p>After starting the tool, you will be asked to select the project directory.</p>
<p><strong>What is the project directory?</strong> It is the folder containing all the generated data and images. If you are starting a new annotation project, then create and select an empty folder. Otherwise, select the directory of an existing annotation project.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can also pass the path of the project directory as a command line argument when you run SpaceM Annotator:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>traincellpose -d /path/to/the/project/directory
</pre></div>
</div>
</div>
</section>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Cellpose-training-GUI</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="select_rois.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Select Regions of Interest</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, Alberto Bailoni &lt;alberto.bailoni@embl.de&gt;.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>